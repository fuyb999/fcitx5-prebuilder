diff --git a/CMakeLists.txt b/CMakeLists.txt
index fc08a87..6bbc674 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -1,6 +1,9 @@
 cmake_minimum_required(VERSION 3.10)
 project(marisa VERSION 0.2.6)

+# 启用位置无关代码 (PIC) - 添加这一行
+set(CMAKE_POSITION_INDEPENDENT_CODE ON)
+
 # Official repo: https://github.com/s-yata/marisa-trie
 # CMake script borrowed from https://github.com/Karry/osmscout-sailfish/blob/master/CMakeLists.txt

@@ -51,6 +54,7 @@ add_library(marisa
     ${MARISA_SRC}
 )
 
+target_compile_options(marisa PRIVATE "-ffile-prefix-map=${CMAKE_CURRENT_SOURCE_DIR}=.")
 install(TARGETS marisa
         EXPORT marisa-targets
         RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR}
